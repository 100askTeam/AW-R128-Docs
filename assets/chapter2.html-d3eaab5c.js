import{_ as i,r as s,o as d,c as p,a as e,b as a,d as r,e as o}from"./app-e85d5a28.js";const n={},l=e("h1",{id:"dsp-开发工具安装",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#dsp-开发工具安装","aria-hidden":"true"},"#"),a(" DSP 开发工具安装")],-1),c=e("h2",{id:"资料准备",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#资料准备","aria-hidden":"true"},"#"),a(" 资料准备")],-1),h=e("p",null,"要编译和仿真DSP，需要以下资料：",-1),g=e("ul",null,[e("li",null,"DSP 核SDK，SDK 需要包含DSP 编译源码。"),e("li",null,"Cadence Xtensa 的 Windows IDE 工具 (Xplorer‑8.0.13 版本)， Windows 版本 DSP 的 package 包。"),e("li",null,"Cadence Xtensa 的 License，用于服务器代码编译和Xplorer 仿真使用。")],-1),m={href:"https://www.cadence.com/en_US/home/tools/ip/tensilica-ip/technologies.html",target:"_blank",rel:"noopener noreferrer"},u={href:"https://www.cadence.com/en_US/home/tools/ip/tensilica-ip/sdk-download.html",target:"_blank",rel:"noopener noreferrer"},x=o(`<h2 id="linux-环境搭建" tabindex="-1"><a class="header-anchor" href="#linux-环境搭建" aria-hidden="true">#</a> Linux 环境搭建</h2><h3 id="xcc-安装" tabindex="-1"><a class="header-anchor" href="#xcc-安装" aria-hidden="true">#</a> XCC 安装</h3><p>把 XCC 工具链压缩包放在目录下：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;root&gt;/XtDevTools/install/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>进行解压，解压后工具链应该存放在：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;root&gt;/XtDevTools/install/RI‑xxxx‑linux/XtensaTools
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="package-包安装" tabindex="-1"><a class="header-anchor" href="#package-包安装" aria-hidden="true">#</a> package 包安装</h3><p>DSP 核配置包由数字设计提供，一般为一个tgz 压缩包，可使用以下命令自动安装：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>./build.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="环境变量" tabindex="-1"><a class="header-anchor" href="#环境变量" aria-hidden="true">#</a> 环境变量</h3><p><code>envsetup.sh</code> 环境变量主要宏如下：</p><ol><li>PATH 添加编译工具链bin/路径；</li><li>LM_LICENSE_FILE license服务器地址；</li><li>XTENSA_SYSTEM DSP核心配置包安装后的路径；</li><li>XTENSA_CORE DSP核心配置包名称；</li><li>XTENSA_TOOLS_DIR XCC工具链位置。</li></ol><p>当想自定义编译环境或者排除编译环境问题，可以通过检查以上宏是否设置正确。</p><h3 id="环境变量命令" tabindex="-1"><a class="header-anchor" href="#环境变量命令" aria-hidden="true">#</a> 环境变量命令</h3><p><code>envsetup.sh</code> 脚本同时导出一些命令，用于快速执行某些命令操作。</p><ol><li>croot // 快速跳转到DSP FreeRTOS SDK 根目录</li><li>doobjdump // 执行objdump 命令反编译DSP elf 文件</li><li>dogenlds // 重新生成链接脚本</li><li>callstack // 执行栈回溯结果解析命令</li><li>mdsp // 编译dsp</li></ol><h3 id="编译代码" tabindex="-1"><a class="header-anchor" href="#编译代码" aria-hidden="true">#</a> 编译代码</h3><h4 id="配置环境变量" tabindex="-1"><a class="header-anchor" href="#配置环境变量" aria-hidden="true">#</a> 配置环境变量</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>source build/envsetup.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image1.jpg" alt="image1"></p><h4 id="编译代码-1" tabindex="-1"><a class="header-anchor" href="#编译代码-1" aria-hidden="true">#</a> 编译代码</h4><p>执行<code>./build.sh</code> 编译</p><h2 id="下载固件" tabindex="-1"><a class="header-anchor" href="#下载固件" aria-hidden="true">#</a> 下载固件</h2><ol><li>把 DSP FreeRTOS SDK 目录下的 <code>dsp_raw.bin</code> 拷贝到 R128 根SDK 下的 <code>board/r128s/xxx/bin/</code> 下，并重命名为<code>rtos_dsp_sun20iw2p1.fex</code>。</li><li>R128 SDK 下重新打包烧录，即可更新DSP 固件。</li></ol><h2 id="windows-环境" tabindex="-1"><a class="header-anchor" href="#windows-环境" aria-hidden="true">#</a> Windows 环境</h2><h3 id="安装-xtensa-xplorer" tabindex="-1"><a class="header-anchor" href="#安装-xtensa-xplorer" aria-hidden="true">#</a> 安装 Xtensa Xplorer</h3><p>Windows 下直接双击安装文件进行安装。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image2.jpg" alt="image2"></p><p>然后同意许可文件</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image3.jpg" alt="image3"></p><p>记得修改下载的地址</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image4.jpg" alt="image4"></p><p>选择 “否”</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image5.jpg" alt="image5"></p><p>点击 Next -&gt; Next -&gt; Next -&gt; Next</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image6.jpg" alt="image6"></p><p>开始安装</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image7.jpg" alt="image7"></p><p>去掉这个勾</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image8.jpg" alt="image8"></p><p>选择工作环境</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image9.jpg" alt="image9"></p><p>初始化中</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image10.jpg" alt="image10"></p><h3 id="license-配置" tabindex="-1"><a class="header-anchor" href="#license-配置" aria-hidden="true">#</a> License 配置</h3><p>在这里配置 License 即可</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image11.jpg" alt="image11"></p><h3 id="安装-package-包" tabindex="-1"><a class="header-anchor" href="#安装-package-包" aria-hidden="true">#</a> 安装 package 包</h3><p>检查 package</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image12.jpg" alt="image12"></p><p>没有对应package，我们要手动安装：</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image13.jpg" alt="image13"></p><p>选择此项</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image14.jpg" alt="image14"></p><p>找到 package 的 tgz 文件</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image15.jpg" alt="image15"></p><p>导入即可</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/developer-guide/part3/chapter2/image16.jpg" alt="image16"></p>`,58);function v(_,w){const t=s("ExternalLinkIcon");return d(),p("div",null,[l,c,h,g,e("blockquote",null,[e("p",null,[a("其中 Allwinner 提供 DSP 核 SDK 源码包，IDE 工具和 Licence 需要向 Cadence 申请。链接："),e("a",m,[a("https://www.cadence.com/en_US/home/tools/ip/tensilica-ip/technologies.html"),r(t)]),a("，Xplorer 下载链接："),e("a",u,[a("https://www.cadence.com/en_US/home/tools/ip/tensilica-ip/sdk-download.html"),r(t)]),a("。")])]),x])}const k=i(n,[["render",v],["__file","chapter2.html.vue"]]);export{k as default};

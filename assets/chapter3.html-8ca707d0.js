import{_ as t,o as e,c as a,e as r}from"./app-e85d5a28.js";const i={},o=r('<h1 id="rtos-软件包配置" tabindex="-1"><a class="header-anchor" href="#rtos-软件包配置" aria-hidden="true">#</a> RTOS 软件包配置</h1><p>本文将介绍 RTOS 软件包、地址，内核配置等。</p><h2 id="kconfig-简介" tabindex="-1"><a class="header-anchor" href="#kconfig-简介" aria-hidden="true">#</a> Kconfig 简介</h2><p>有过 linux 内核开发经验的人，对 menuconfig 不会陌生。对于各类内核，只要是支持 menuconfig 配置界面，都是使用 Kconfig。</p><p>换言之：</p><ul><li>menuconfig：支持配置内核的图形化界面。</li><li>Kconfig：生成 menuconfig 界面的脚本语言。</li></ul><h2 id="menuconfig-操作简介" tabindex="-1"><a class="header-anchor" href="#menuconfig-操作简介" aria-hidden="true">#</a> menuconfig 操作简介</h2><p>我们运行 mrtos_menuconfig 之后，会打开如下图所示的界面</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image1.png" alt="image1"></p><p>整个显示界面大致分为三部分</p><p>上方是操作的说明和图例说明。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image2.png" alt="image2"></p><ul><li><code>&lt;Enter&gt;</code> 按下Enter键进入子菜单。</li><li><code>&lt;Y&gt;</code> 按下Y键，选中这项功能。</li><li><code>&lt;N&gt;</code> 按下N键，排除这项功能 。</li><li><code>&lt;M&gt;</code> 按下M键，以模块的形式选择。</li><li><code>&lt;Esc&gt;&lt;Esc&gt;</code> 按两下Esc键，返回上一级菜单</li><li><code>&lt;?&gt;</code> 按下?键，查看高亮功能的帮助信息</li><li>`` 按下/键，搜索</li><li><code>[*]</code> 被选中的项目</li><li><code>[ ]</code> 未被选择的项目</li><li><code>&lt;M&gt;</code> 以模块形式被选择的项目</li><li><code>&lt; &gt;</code> 未被选择的模块</li></ul><p>中间部分就是我们要选择的各项功能了，使用上下两个方向键进行选择，也可以使用关键字进行跳转。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image3.png" alt="image3"></p><p>最下方是功能选择按钮，功能与案件基本重合。使用左右方向键选择，Enter键选中。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image4.png" alt="image4"></p><ul><li><code>&lt;Select&gt;</code>进入下级菜单</li><li><code>&lt; Exit &gt;</code> 退回上一级菜单，在最顶层菜单就是退出menuconfig</li><li><code>&lt; Help &gt;</code> 显示当前选项的帮助信息</li><li><code>&lt; Save &gt;</code> 手动保存配置文件</li><li><code>&lt; Load &gt;</code> 加载指定的配置文件，默认加载的是.config</li></ul><h2 id="rtos-menuconfig-说明" tabindex="-1"><a class="header-anchor" href="#rtos-menuconfig-说明" aria-hidden="true">#</a> RTOS menuconfig 说明</h2><p>了解了menuconfig的基本操作，我们再来了解一下 RTOS 的 menuconfig 具体都有是么内容。</p><h3 id="build-target-sunxi-arch" tabindex="-1"><a class="header-anchor" href="#build-target-sunxi-arch" aria-hidden="true">#</a> Build target sunxi arch</h3><p>分别选择芯片的系列，对于R128平台，使用的是 <code>sun20iw2p1</code> 平台</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image5.png" alt="image5"></p><h3 id="build-os-or-library" tabindex="-1"><a class="header-anchor" href="#build-os-or-library" aria-hidden="true">#</a> Build OS or Library</h3><p>选择编译为 Library 还是 OS，这里我们使用的是 OS 所以设置为编译 OS</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image6.png" alt="image6"></p><h3 id="build-system" tabindex="-1"><a class="header-anchor" href="#build-system" aria-hidden="true">#</a> Build System</h3><p>这部分配置 RTOS 的配套编译脚手架，配置编译使用的编译工具链的路径，libc的类型等等。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image7.png" alt="image7"></p><h3 id="architecture-options" tabindex="-1"><a class="header-anchor" href="#architecture-options" aria-hidden="true">#</a> Architecture Options</h3><p>架构配置，配置CPU的架构，入口地址，分配的内存长度，RV核心的地址，DSP核心的地址。这里也也配置默认启动的核心，可以关闭 C906 和 DSP 核心的启动。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image8.png" alt="image8"></p><h3 id="kernel-options" tabindex="-1"><a class="header-anchor" href="#kernel-options" aria-hidden="true">#</a> Kernel Options</h3><p>FreeRTOS 内核相关的配置，一般不需要修改。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image9.png" alt="image9"></p><h3 id="drivers-options" tabindex="-1"><a class="header-anchor" href="#drivers-options" aria-hidden="true">#</a> Drivers Options</h3><p>驱动配置，分为 <code>soc related device drivers</code> 和 <code>other drivers</code></p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image10.png" alt="image10"></p><h4 id="soc-related-device-drivers" tabindex="-1"><a class="header-anchor" href="#soc-related-device-drivers" aria-hidden="true">#</a> soc related device drivers</h4><p>包括各种外设驱动，与驱动的单元测试。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image11.png" alt="image11"></p><h4 id="other-drivers" tabindex="-1"><a class="header-anchor" href="#other-drivers" aria-hidden="true">#</a> other drivers</h4><p>包括 WiFi 驱动，蓝牙驱动等等</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image12.png" alt="image12"></p><h3 id="system-components" tabindex="-1"><a class="header-anchor" href="#system-components" aria-hidden="true">#</a> System components</h3><p>组件选择，软件包，协议栈等相关选择</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image13.png" alt="image13"></p><h4 id="aw-components" tabindex="-1"><a class="header-anchor" href="#aw-components" aria-hidden="true">#</a> aw components</h4><p>全志提供的相关组件，核间通信组件，多媒体组件等。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image14.png" alt="image14"></p><h4 id="thirdparty-components" tabindex="-1"><a class="header-anchor" href="#thirdparty-components" aria-hidden="true">#</a> thirdparty components</h4><p>第三方提供的组件，lvgl，协议栈等等</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image15.png" alt="image15"></p><h3 id="projects-options" tabindex="-1"><a class="header-anchor" href="#projects-options" aria-hidden="true">#</a> Projects Options</h3><p>项目配置，选择项目方案</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image16.png" alt="image16"></p><h2 id="menuconfig-配置保存" tabindex="-1"><a class="header-anchor" href="#menuconfig-配置保存" aria-hidden="true">#</a> menuconfig 配置保存</h2><p>完成配置之后，我们可以选择使用左右方向键选择 <strong>&lt; save &gt;</strong> 并按下Enter键。</p><p>如果修改配置文件名称的话，就是将当前的配置另外保存到指定文件；不修改的话默认保存在.config中， 然后选择 <strong>ok</strong> 确认，就可以继续进行配置了修改了。如果不想保存，那么可以按两下 <strong>Esc</strong> 键返回。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image17.png" alt="image17"></p><p>当然也可以不使用上面的操作，在全部修改都完成之后，连按 <strong>Esc</strong> 键，就会退出menuconfig。 在退出时会提醒是否保存配置文件，选择 <strong>Yes</strong> 即可保存配置，如果不想保存可以选择 <strong>No</strong> ， 如果还想继续修改，可以按两下 <strong>Esc</strong> 键返回 menuconfig 继续修改。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/quick-start/part4/chapter3/image18.png" alt="image18"></p>',62),s=[o];function c(p,n){return e(),a("div",null,s)}const h=t(i,[["render",c],["__file","chapter3.html.vue"]]);export{h as default};

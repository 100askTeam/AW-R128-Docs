import{_ as r,r as d,o as n,c as o,a as t,b as e,d as s,e as l}from"./app-e85d5a28.js";const i={},c=l(`<h1 id="lvgl-与-spi-tft-gui" tabindex="-1"><a class="header-anchor" href="#lvgl-与-spi-tft-gui" aria-hidden="true">#</a> LVGL 与 SPI TFT GUI</h1><p>本次使用的是 Dshan_Display Module，如下图：</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image1.webp" alt=""></p><p>引脚配置如下：</p><table><thead><tr><th style="text-align:left;">R128 Devkit</th><th style="text-align:left;">TFT 模块</th></tr></thead><tbody><tr><td style="text-align:left;">PA12</td><td style="text-align:left;">CS</td></tr><tr><td style="text-align:left;">PA13</td><td style="text-align:left;">SCK</td></tr><tr><td style="text-align:left;">PA18</td><td style="text-align:left;">MOSI</td></tr><tr><td style="text-align:left;">PA9</td><td style="text-align:left;">PWM</td></tr><tr><td style="text-align:left;">PA20</td><td style="text-align:left;">RESET</td></tr><tr><td style="text-align:left;">PA19</td><td style="text-align:left;">RS</td></tr><tr><td style="text-align:left;">3V3</td><td style="text-align:left;">3.3V</td></tr><tr><td style="text-align:left;">GND</td><td style="text-align:left;">GND</td></tr></tbody></table><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image2.png" alt=""></p><h2 id="载入方案" tabindex="-1"><a class="header-anchor" href="#载入方案" aria-hidden="true">#</a> 载入方案</h2><p>我们使用的开发板是 R128-Devkit，需要开发 C906 核心的应用程序，所以载入方案选择 <code>r128s2_module_c906</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token builtin class-name">source</span> envsetup.sh 
$ lunch_rtos <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image3.png" alt=""></p><h2 id="配置-spi-lcd-驱动" tabindex="-1"><a class="header-anchor" href="#配置-spi-lcd-驱动" aria-hidden="true">#</a> 配置 SPI LCD 驱动</h2><p>驱动配置请参照 《SPI 驱动 TFT LCD 屏》文章进行配置。</p><h2 id="配置-lvgl-软件包" tabindex="-1"><a class="header-anchor" href="#配置-lvgl-软件包" aria-hidden="true">#</a> 配置 LVGL 软件包</h2><p>运行 <code>mrtos_menuconfig</code> 进入配置页面。在如下地址找到勾选相关软件包。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>System components  ---&gt;
    thirdparty components  ---&gt;
        [*] Littlevgl-8  ---&gt;
            [*]   lvgl examples
            [*]   lvgl-8.1.0 use sunxifb double buffer
            [*]   lvgl-8.1.0 use sunxifb cache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image4.png" alt=""></p><p>注意，<code>lv_examples</code> 与 <code>lv_g2d_test</code> 不能同时勾选，否则会报错重复定义错误。</p>`,17),p={href:"https://bbs.aw-ol.com/topic/4421/share/1",target:"_blank",rel:"noopener noreferrer"},h=t("p",null,[t("img",{src:"http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image5.png",alt:""})],-1),g=t("p",null,"错误如下：",-1),m=t("p",null,[t("img",{src:"http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image6.png",alt:""})],-1),u=t("code",null,"update_mbr_failed",-1),_={href:"https://r128.docs.aw-ol.com/others/faq",target:"_blank",rel:"noopener noreferrer"},v=l('<h2 id="修改-lvgl-显示配置" tabindex="-1"><a class="header-anchor" href="#修改-lvgl-显示配置" aria-hidden="true">#</a> 修改 LVGL 显示配置</h2><p>进入 <code>lichee/rtos-components/thirdparty/littlevgl-8/lv_examples/src/lv_conf.h</code> 找到 <code>LV_COLOR_DEPTH</code> 并修改为 16 位，<code>LV_COLOR_16_SWAP</code> 置为 1 进行红蓝颜色交换。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image7.png" alt=""></p><h2 id="测试" tabindex="-1"><a class="header-anchor" href="#测试" aria-hidden="true">#</a> 测试</h2><p>编译打包刷写后，在控制台输入 <code>lv_examples</code> 可以查看相关命令。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image8.png" alt=""></p><p>运行 <code>lv_examples 1</code> 即可在屏幕显示 LVGL 界面。</p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image9.png" alt=""></p><p><img src="http://photos.100ask.net/aw-r128-docs/rtos/demo/part1/chapter10/image10.png" alt=""></p>',9);function f(x,b){const a=d("ExternalLinkIcon");return n(),o("div",null,[c,t("blockquote",null,[t("p",null,[e("论坛提问："),t("a",p,[e("想给R128移植上LVGL按照教程结果失败"),s(a)])])]),h,g,m,t("p",null,[e("如果出现 "),u,e("，请参照"),t("a",_,[e("常见问题"),s(a)]),e("修改分区表增大分区容量")]),v])}const k=r(i,[["render",f],["__file","chapter10.html.vue"]]);export{k as default};
